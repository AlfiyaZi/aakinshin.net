<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <!-- The above 3 meta tags *must* come first in the head; any other head content must come *after* these tags -->
    <meta name="description" content="Блог Андрея Акиньшина">
    <meta name="author" content="Andrey Akinshin">
    <link href="/img/favicon.ico?v=2" rel="icon" type="image/x-icon"/>
    <meta name="keywords" content=''>

    <title>Блог Андрея Акиньшина</title>

    <!-- Bootstrap core CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css" integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">

    <!-- Custom styles -->
    <link href="/css/about.css" rel="stylesheet" type="text/css" media="all">
    <link href="/css/blog.css" rel="stylesheet" type="text/css" media="all">

    <!-- Other stuff -->
    <link href="/ru/rss.xml" type="application/rss+xml" rel="alternate" title="Blog RSS Feed" />
    <link href="/ru/atom.xml" type="application/atom+xml" rel="alternate" title="Blog ATOM Feed" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js" integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>
    <!-- Google analytics -->
    <script>
      (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
      })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
      ga('create', 'UA-41419012-5', 'auto');
      ga('send', 'pageview');
    </script>
    <!-- Yandex.Metrika counter -->
    <script type="text/javascript">
    (function (d, w, c) {
        (w[c] = w[c] || []).push(function() {
            try {
                w.yaCounter28700916 = new Ya.Metrika({id:28700916,
                        clickmap:true,
                        trackLinks:true,
                        accurateTrackBounce:true});
            } catch(e) { }
        });
        var n = d.getElementsByTagName("script")[0],
            s = d.createElement("script"),
            f = function () { n.parentNode.insertBefore(s, n); };
        s.type = "text/javascript";
        s.async = true;
        s.src = (d.location.protocol == "https:" ? "https:" : "http:") + "//mc.yandex.ru/metrika/watch.js";
        if (w.opera == "[object Opera]") {
            d.addEventListener("DOMContentLoaded", f, false);
        } else { f(); }
    })(document, window, "yandex_metrika_callbacks");
    </script>
    <!-- /Yandex.Metrika counter -->
  </head>

  <body>
     <div class="blog-masthead">
      <div class="container">
        <nav class="nav blog-nav">
          <a class="nav-link" id="nav-link-blog" href="/ru/blog/">Блог</a>
          <a class="nav-link" id="nav-link-blog-content" href="/ru/blog/content/">Содержание</a>
          <a class="nav-link" id="nav-link-about" href="/ru/about/">Об авторе </a>
          <a class="nav-link" href='/en/blog/'>English version</a>
        </nav>
      </div>
    </div>

    <div class="container">
      <div class="blog-main">
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/r/colorout/'>Раскрашиваем R в терминале: пакет colorout</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 11 июля 2014.
          <b>Категория:</b> <a href="/ru/blog/content/#r">R</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#R"><span>[</span><span>R</span><span>]</span></a>
                <a href="/ru/blog/tags/#R-packages"><span>[</span><span>R-packages</span><span>]</span></a>
                <a href="/ru/blog/tags/#Terminal"><span>[</span><span>Terminal</span><span>]</span></a>
        </span><br /><br />
        <p>В последнее время мне часто приходится гонять R-скрипты на удалённом Linux-сервере. Большую часть работы я выполняю на домашней машине, но иногда приходится отлаживать скрипты прямо на сервере. В этом мне очень помогает пакет <strong>colorout</strong>, который умеет красиво раскрашивать R в терминале. Давайте взглянем на него чуть подробнее.</p>
<p class="center">
  <img src="/img/posts/r/colorout/screen1.png" />
</p>
</p>
        <a href='/ru/blog/r/colorout/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/dotnet/findelementsinhostcoordinates/'>Странное поведение FindElementsInHostCoordinates в WinRT</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 29 апреля 2014.
          <b>Категория:</b> <a href="/ru/blog/content/#dotnet">.NET</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#.NET"><span>[</span><span>.NET</span><span>]</span></a>
                <a href="/ru/blog/tags/#C#"><span>[</span><span>C#</span><span>]</span></a>
                <a href="/ru/blog/tags/#Silverlight"><span>[</span><span>Silverlight</span><span>]</span></a>
                <a href="/ru/blog/tags/#WinRT"><span>[</span><span>WinRT</span><span>]</span></a>
        </span><br /><br />
        <p>Есть в Silverlight отличный метод: <a href="http://msdn.microsoft.com/en-us/library/system.windows.media.visualtreehelper.findelementsinhostcoordinates(v=vs.95).aspx">VisualTreeHelper.FindElementsInHostCoordinates</a> — позволяет выполнять <code>HitTest</code>, т.е. для некоторой точки или прямоугольника искать все объекты визуального поддерева, которые с этими точкой или прямоугольником пересекаются. Внешне точно такой же метод <a href="http://msdn.microsoft.com/en-us/library/windows/apps/windows.ui.xaml.media.visualtreehelper.findelementsinhostcoordinates.aspx">VisualTreeHelper.FindElementsInHostCoordinates</a> можно встретить в WinRT. И вроде выглядит-то он точно также, но есть нюанс: работает этот чудо-метод в разных версиях платформы по-разному. Давайте разберёмся.</p>
        <a href='/ru/blog/dotnet/findelementsinhostcoordinates/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/notes/codefest-2014/'>CodeFest 2014: Отчёт</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 31 марта 2014.
          <b>Категория:</b> <a href="/ru/blog/content/#notes">Заметки</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#CodeFest"><span>[</span><span>CodeFest</span><span>]</span></a>
                <a href="/ru/blog/tags/#Events"><span>[</span><span>Events</span><span>]</span></a>
        </span><br /><br />
        <p>Есть в Сибири одна очень хорошая конференция, <a href="http://codefest.ru">CodeFest</a> называется, бывает раз в год. В минувшие выходные это замечательное мероприятие проводилось уже в пятый раз, мы с друзьями просто не могли такое пропустить. Конференция прошла просто на отличненько, в связи с чем хотелось бы поделиться впечатлениями.</p>
<p class="center">
  <img src="/img/posts/notes/codefest-2014/front.png" />
</p>
</p>
        <a href='/ru/blog/notes/codefest-2014/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/dotnet/system-drawing-color-equals/'>Про System.Drawing.Color и оператор ==</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 21 февраля 2014.
          <b>Категория:</b> <a href="/ru/blog/content/#dotnet">.NET</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#.NET"><span>[</span><span>.NET</span><span>]</span></a>
                <a href="/ru/blog/tags/#Colors"><span>[</span><span>Colors</span><span>]</span></a>
                <a href="/ru/blog/tags/#C#"><span>[</span><span>C#</span><span>]</span></a>
                <a href="/ru/blog/tags/#Equals"><span>[</span><span>Equals</span><span>]</span></a>
        </span><br /><br />
        <p>Для многих стандартных структур в .NET-е переопределён оператор <code>==</code>, который позволяет легко сравнивать ваши объекты. К сожалению, далеко не все задумываются о том, что на самом деле сравнивается при работе с этим замечательным оператором. В этой короткой заметке мы посмотрим логику сравнения объектов на примере <code>System.Drawing.Color</code>. Как вы думаете, что выведет следующий код:</p>
<pre><code class="language-cs">var redName = Color.Red;
var redArgb = Color.FromArgb(255, 255, 0, 0);
Console.WriteLine(redName == redArgb);
</code></pre>
</p>
        <a href='/ru/blog/dotnet/system-drawing-color-equals/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/dotnet/msbuild-configurations/'>Настраиваем конфигурации сборок в .NET</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 07 февраля 2014.
          <b>Категория:</b> <a href="/ru/blog/content/#dotnet">.NET</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#.NET"><span>[</span><span>.NET</span><span>]</span></a>
                <a href="/ru/blog/tags/#MSBuild"><span>[</span><span>MSBuild</span><span>]</span></a>
                <a href="/ru/blog/tags/#Configurations"><span>[</span><span>Configurations</span><span>]</span></a>
        </span><br /><br />
        <p>При создании нового проекта в Visual Studio по умолчанию вы получаете две конфигурации сборки: Debug и Release. И для большинства мелких проектов этого вполне достаточно. Но с ростом проекта может возникнуть потребность добавить дополнительные конфигурации. И хорошо, если нужно добавить одну-две новые конфигурации, а если их добрый десяток? А если при этом в солюшене находится штук 20 проектов, для каждого из которых эти конфигурации нужно настроить? В данном случае управлять параметрами сборки и модифицировать их становится достаточно сложно.</p>
<p>В этом посте будет рассмотрен способ, с помощью которого вы сможете немного упростить себе жизнь, существенно сократив описание конфигураций сборок.</p>
        <a href='/ru/blog/dotnet/msbuild-configurations/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/education/government-decree-842/'>Изменения в правилах защиты диссертаций от 1 января 2014</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 19 января 2014.
          <b>Категория:</b> <a href="/ru/blog/content/#education">Образование</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#Education"><span>[</span><span>Education</span><span>]</span></a>
                <a href="/ru/blog/tags/#Phd"><span>[</span><span>Phd</span><span>]</span></a>
                <a href="/ru/blog/tags/#VAK"><span>[</span><span>VAK</span><span>]</span></a>
        </span><br /><br />
        <p>В нашей стране очень любят принимать разные новые законы. Вот, добрались и до защиты диссертаций: с 1-го января 2014 вступило в силу новое положение. В 2014-ом пройти по старым правилам могут только те, чьи диссертации были приняты к защите до 1-го января при условии, что защита пройдёт до 1-го июля 2014. Вокруг новых правил много шума: все говорят, что многое поменялось, но не все могут сказать, что именно. Давайте разберёмся.</p>
<p>Было: <a href="http://elementy.ru/library9/p74.htm">Постановление Правительства РФ от 30 января 2002 г. № 74 «Об утверждении Единого реестра ученых степеней и ученых званий и Положения о порядке присуждения ученых степеней»</a></p>
<p>Стало: <a href="http://government.ru/media/files/41d492460dd8923e356f.pdf">Постановление Правительства РФ от 24 сентября 2013 г. № 842 «О порядке присуждения ученых степеней»</a></p>
<p>Новый документ достаточно большой (35 страниц, 86 пунктов), поэтому я решил сделать обзор наиболее важных изменений с ссылками на пункты постановлений.</p>
        <a href='/ru/blog/education/government-decree-842/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/dotnet/cache-conscious-binary-search/'>Cache-Conscious Binary Search</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 20 ноября 2013.
          <b>Категория:</b> <a href="/ru/blog/content/#dotnet">.NET</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#Algorithms"><span>[</span><span>Algorithms</span><span>]</span></a>
                <a href="/ru/blog/tags/#CacheConscious"><span>[</span><span>CacheConscious</span><span>]</span></a>
                <a href="/ru/blog/tags/#BinarySearch"><span>[</span><span>BinarySearch</span><span>]</span></a>
                <a href="/ru/blog/tags/#.NET"><span>[</span><span>.NET</span><span>]</span></a>
                <a href="/ru/blog/tags/#Cache"><span>[</span><span>Cache</span><span>]</span></a>
                <a href="/ru/blog/tags/#C#"><span>[</span><span>C#</span><span>]</span></a>
        </span><br /><br />
        <p>
	Рассмотрим простую задачу: есть некоторый достаточно большой неизменный набор чисел, к нему осуществляется множество запросов на наличие некоторого числа в этом наборе, необходимо максимально быстро эти запросы обрабатывать. Одно из классических решений заключается в формировании отсортированного массива и обработке запросов через бинарный поиск. Но можно ли добиться более высокой производительности, чем в классической реализации? В этой статье мне хотелось бы рассказать про Cache-Conscious Binary Search. В данном алгоритме предлагается переупорядочить элементы массива таким образом, чтобы использование кэша процессора происходило максимально эффективно.
</p>
</p>
        <a href='/ru/blog/dotnet/cache-conscious-binary-search/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/git/rewrite-commiter-list/'>Переписываем список коммитеров в Git</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 10 ноября 2013.
          <b>Категория:</b> <a href="/ru/blog/content/#git">git</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#git"><span>[</span><span>git</span><span>]</span></a>
                <a href="/ru/blog/tags/#git-history"><span>[</span><span>git-history</span><span>]</span></a>
        </span><br /><br />
        <p>Иногда возникает потребность переписать коммитеров в Git-репозитории. Задача достаточно редкая, но иногда всё-таки приходится ей заниматься. Давайте разберёмся в ситуации подробней. Прежде всего, взглянем на текущий список коммитеров:</p>
<pre><code>$ git log --pretty=format:&quot;%an &lt;%aE&gt;&quot; | sort -u
</code></pre>
<p>Допустим, мы получили следующий список:</p>
<pre><code>Ivan &lt;ivan＠gmail.com&gt;
Ivan &lt;ivan.ivanov＠gmail.com&gt;
Ivan &lt;ivan-ivan＠gmail.com&gt;
Ivan Ivanov &lt;ivan.ivanov＠gmail.com&gt;
Vanya Ivanov &lt;ivan.ivanov＠gmail.com&gt;
Vanya &lt;ivan.ivanov＠gmail.com&gt;
</code></pre>
<p>Наблюдаем следующую проблему: некий Иван Иванов делал коммиты, указывая каждый раз разную информацию об имени пользователя и почтовом адресе. Для начала нужно дать по рукам Ивану и сказать, чтобы больше так не делал. Лучше всего использовать для всех коммитов одинаковую учётную информацию (например,
<code>Ivan Ivanov &lt;ivan.ivanov＠gmail.com&gt;</code>). Проблема может встать особенно остро, если в проекте используются дополнительные сервисы, которые работают с репозиторием (code review system, build server и т.п.). Ну, а пока Иван размышляет над своим поведением, мы займёмся переписыванием истории.</p>
</p>
        <a href='/ru/blog/git/rewrite-commiter-list/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/dotnet/jon-skeet-quiz/'>Jon Skeet&#39;s Quiz</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 03 ноября 2013.
          <b>Категория:</b> <a href="/ru/blog/content/#dotnet">.NET</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#.NET"><span>[</span><span>.NET</span><span>]</span></a>
                <a href="/ru/blog/tags/#C#"><span>[</span><span>C#</span><span>]</span></a>
        </span><br /><br />
        <p>Однажды Джона Скита попросили сформулировать три интересных вопроса на знание C#. Он спросил следующее (<a href="http://www.dotnetcurry.com/magazine/jon-skeet-quiz.aspx">оригинал вопросника</a>,	<a href="http://timyrguev.blogspot.ru/2013/10/blog-post.html">перевод статьи</a>):</p>
<ul>
<li><strong>Q1.</strong> <em>Вызов какого конструктора можно использовать, чтобы следующий код вывел True (хотя бы в реализации Microsoft.NET)?</em></li>
</ul>
<pre><code class="language-cs">object x = new /* fill in code here */;
object y = new /* fill in code here */;
Console.WriteLine(x == y);
</code></pre>
<p><em>Учтите, что это просто вызов конструктора, вы не можете поменять тип переменных.</em></p>
<ul>
<li><strong>Q2.</strong> <em>Как сделать так, чтобы следующий код вызывал три различных перегрузки метода?</em></li>
</ul>
<pre><code class="language-cs">void Foo()
{
    EvilMethod&lt;string&gt;();
    EvilMethod&lt;int&gt;();
    EvilMethod&lt;int?&gt;();
}
</code></pre>
<ul>
<li><strong>Q3.</strong> <em>Как заставить следующий код выбросить исключение во второй строчке с помощью локальной переменной (без хитрого изменения её значения)?</em></li>
</ul>
<pre><code class="language-cs">string text = x.ToString(); // No exception
Type type = x.GetType(); // Bang!
</code></pre>
<p>Вопросы показались мне интересными, поэтому я решил обсудить их решения.</p>
        <a href='/ru/blog/dotnet/jon-skeet-quiz/'>Читать дальше</a><br /><br />
        <hr />
    </div>
    <div class="blog-post">
        <h2 class="blog-post-title"><a href='/ru/blog/dotnet/arrays-internal-structure/'>Внутреннее устройство массивов в .NET</a></h2>
        <span class="blog-post-meta">
          <b>Дата:</b> 11 октября 2013.
          <b>Категория:</b> <a href="/ru/blog/content/#dotnet">.NET</a>.
          <b>Теги:</b>
                <a href="/ru/blog/tags/#.NET"><span>[</span><span>.NET</span><span>]</span></a>
                <a href="/ru/blog/tags/#C#"><span>[</span><span>C#</span><span>]</span></a>
                <a href="/ru/blog/tags/#Arrays"><span>[</span><span>Arrays</span><span>]</span></a>
        </span><br /><br />
        <p>Иногда бывает полезно понимать, как выглядит внутреннее представление объектов, с которыми мы работаем. В этой статье я хотел бы поговорить о массивах: как именно они хранятся в памяти, какие IL-команды используются для работы с ними, как выглядит ассемблерный код при обращении к их элементам. Я рассмотрю три вида массивов: single (<code>T[]</code>), rectangular (<code>T[,]</code>), jagged (<code>T[][]</code>). Также будет затронута тема массивов с ненулевой нижней границей (<code>T[*]</code>) и нюансов работы с ними.</p>
        <a href='/ru/blog/dotnet/arrays-internal-structure/'>Читать дальше</a><br /><br />
        <hr />
    </div>
</div>
<nav>
  <ul class="pagination">
      <li class="page-item">
        <a class="page-link" href='/ru/blog/page/2/' aria-label="Назад">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Назад</span>
        </a>
      </li>
                <li class="page-item"><a class="page-link" href="/ru/blog/">1</a></li>
        <li class="page-item"><a class="page-link" href="/ru/blog/page/2/">2</a></li>
        <li class="page-item active">
          <a class="page-link" href="/ru/blog/page/3/">3 <span class="sr-only">(current)</span></a>
        </li>
        <li class="page-item"><a class="page-link" href="/ru/blog/page/4/">4</a></li>
        <li class="page-item"><a class="page-link" href="/ru/blog/page/5/">5</a></li>
        <li class="page-item"><a class="page-link" href="/ru/blog/page/6/">6</a></li>
          <li class="page-item">
        <a class="page-link" href='/ru/blog/page/4/' aria-label="Вперёд">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Вперёд</span>
        </a>
      </li>
      </ul>
</nav>
<hr />
    </div>

    <footer class="blog-footer">
      <div class="container">
        <p>&copy; 2014–2016 Андрей Акиньшин</p>
      </div>
    </footer>

    <script>
    $(function() {
       // standard classes
       $("table").addClass("table");
       $("table").addClass("table-bordered");
       $("table").addClass("table-hover");
       $("table").addClass("table-condensed");
       $("blockquote").addClass("blockquote");

       // nav
       var url = $(location).attr('href');
       if (url.indexOf("/blog/content") != -1) {
           $("#nav-link-blog-content").addClass("active");
       } else if (url.indexOf("/blog") != -1) {
           $("#nav-link-blog").addClass("active");
       } else if (url.indexOf("/about") != -1) {
           $("#nav-link-about").addClass("active");
       }
    });
    (function($, window, undefined) {
      // Add pretty print to all pre and code tags.
      $('pre, code').addClass("prettyprint");
      // Remove prettify from code tags inside pre tags.
      $('pre code').removeClass("prettyprint");
    })(jQuery, this);
    </script>
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/anchor-js/3.0.0/anchor.js"></script>
    <script>
      anchors.options = {
        placement: 'left',
        icon: '§'
      };
      anchors.add('h1');
      anchors.add('h2');
      anchors.add('h3');
    </script>
  </body>
</html>
